<div class="spinner-container" *ngIf="loading">
  <mat-spinner></mat-spinner>
</div>
<ng-container *ngIf="!viewOpportunity">
  <div class="mat-elevation-z8" *ngIf="!loading">
    <mat-toolbar color="accent">
      <mat-toolbar-row>
        <span>Opportunities</span>
        <span class="spacer"></span>
        <button
          mat-raised-button
          color="primary"
          [disabled]="!selectedRow"
          (click)="startMatch()"
        >
          Start Match
        </button>
        <button
          mat-raised-button
          color="primary"
          [disabled]="!selectedRow"
          (click)="openOpportunity()"
        >
          Open Opportunity
        </button>
      </mat-toolbar-row>
    </mat-toolbar>
    <app-data-table
      [dataSource]="dataSource"
      [langString]="langString"
      [singleSelectionActive]="true"
      [displayedColumns]="displayedColumns"
      (singleSelectEvent)="setSingleSelected($event)"
    ></app-data-table>
  </div>
</ng-container>

<ng-container *ngIf="viewOpportunity">
  <app-view [selectedRow]="selectedRow" (backEvent)="backClicked()"></app-view>
</ng-container>
