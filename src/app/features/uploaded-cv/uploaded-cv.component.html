<div class="spinner-container" *ngIf="loading">
  <mat-spinner></mat-spinner>
</div>
<ng-container *ngIf="!viewCv">
  <div class="mat-elevation-z8" *ngIf="!loading">
    <mat-toolbar color="accent">
      <mat-toolbar-row>
        <span>Uploaded Opportunities</span>
        <span class="spacer"></span>

        <button
          color="primary"
          (click)="addCv()"
          mat-icon-button
          matTooltip="Add Cv to the list"
        >
          <mat-icon> add </mat-icon>
        </button>
        <button
          color="primary"
          [disabled]="!selectedRows.length"
          (click)="deleteCv()"
          matTooltip="Delete all selected Cvs"
          mat-icon-button
        >
          <mat-icon> delete </mat-icon>
        </button>
        <button
          color="primary"
          (click)="openCv()"
          matTooltip="Read selected Cv"
          [disabled]="!selectedRow"
          mat-icon-button
        >
          <mat-icon> read_more </mat-icon>
        </button>
      </mat-toolbar-row>
    </mat-toolbar>
    <app-data-table
      [dataSource]="dataSource"
      [langString]="langString"
      [singleSelectionActive]="true"
      [displayedColumns]="displayedColumns"
      (singleSelectEvent)="setSingleSelected($event)"
      (multiSelectEvent)="setMultiSelected($event)"
    ></app-data-table>
  </div>
</ng-container>

<ng-container *ngIf="viewCv">
  <app-view [selectedRow]="selectedRow" (backEvent)="backClicked()"></app-view>
</ng-container>
